<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–ø–æ—Ç–æ–∫–∞</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Header Section -->
<header class="page-header">
    <div class="container">
        <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–ø–æ—Ç–æ–∫–∞</h1>
        <button class="btn btn-primary" id="addNewRecord">
            <i class="icon">+</i>
            –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
        </button>
    </div>
</header>

<!-- Filters Section -->
<section class="filters-section">
    <div class="container">
        <div class="filters-grid">
            <div class="filter-group">
                <label for="busFilter">–ê–≤—Ç–æ–±—É—Å:</label>
                <select id="busFilter" class="form-select">
                    <option value="">–í—Å–µ –∞–≤—Ç–æ–±—É—Å—ã</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="stopFilter">–û—Å—Ç–∞–Ω–æ–≤–∫–∞:</label>
                <select id="stopFilter" class="form-select">
                    <option value="">–í—Å–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="startTimeFilter">–° –¥–∞—Ç—ã:</label>
                <input type="datetime-local" id="startTimeFilter" class="form-input">
            </div>
            <div class="filter-group">
                <label for="endTimeFilter">–ü–æ –¥–∞—Ç—É:</label>
                <input type="datetime-local" id="endTimeFilter" class="form-input">
            </div>
            <div class="filter-actions">
                <button class="btn btn-secondary" id="applyFilters">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                <button class="btn btn-outline" id="clearFilters">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button class="btn btn-primary" id="refreshData">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
</section>

<!-- Loading Indicator -->
<div class="loading-indicator" id="loadingIndicator" style="display: none;">
    <div class="spinner"></div>
    <span>–ó–∞–≥—Ä—É–∑–∫–∞...</span>
</div>

<!-- Table Section -->
<section class="table-section">
    <div class="container">
        <div class="table-wrapper">
            <table class="data-table" id="dataTable">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>–ê–≤—Ç–æ–±—É—Å</th>
                    <th>–û—Å—Ç–∞–Ω–æ–≤–∫–∞</th>
                    <th>–ú–∞—Ä—à—Ä—É—Ç</th>
                    <th>–í–æ—à–ª–æ</th>
                    <th>–í—ã—à–ª–æ</th>
                    <th>–í—Ä–µ–º—è</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
                </thead>
                <tbody id="tableBody">
                <!-- Data will be loaded here -->
                </tbody>
            </table>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">üìä</div>
                <h3>–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</h3>
                <p>–ó–∞–ø–∏—Å–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å.</p>
            </div>
        </div>
    </div>
</section>

<!-- Pagination Section -->
<section class="pagination-section">
    <div class="container">
        <div class="pagination-info">
            <span id="paginationInfo">–ó–∞–ø–∏—Å–∏ 1-20 –∏–∑ 100</span>
        </div>
        <div class="pagination-controls">
            <button class="btn btn-outline" id="firstPage">¬´</button>
            <button class="btn btn-outline" id="prevPage">‚Äπ</button>
            <div class="page-numbers" id="pageNumbers">
                <!-- Page numbers will be generated here -->
            </div>
            <button class="btn btn-outline" id="nextPage">‚Ä∫</button>
            <button class="btn btn-outline" id="lastPage">¬ª</button>
        </div>
        <div class="page-size-selector">
            <label for="pageSize">–ü–æ–∫–∞–∑–∞—Ç—å:</label>
            <select id="pageSize" class="form-select">
                <option value="10">10</option>
                <option value="20" selected>20</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
    </div>
</section>

<!-- Modal Window -->
<div class="modal-overlay" id="modalOverlay" style="display: none;">
    <div class="modal" id="recordModal">
        <div class="modal-header">
            <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h2>
            <button class="modal-close" id="modalClose">&times;</button>
        </div>
        <div class="modal-body">
            <form id="recordForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="modalBusId">–ê–≤—Ç–æ–±—É—Å <span class="required">*</span></label>
                        <select id="modalBusId" name="busId" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–±—É—Å</option>
                        </select>
                        <div class="error-message" id="busIdError"></div>
                    </div>
                    <div class="form-group">
                        <label for="modalStopId">–û—Å—Ç–∞–Ω–æ–≤–∫–∞ <span class="required">*</span></label>
                        <select id="modalStopId" name="stopId" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∫—É</option>
                        </select>
                        <div class="error-message" id="stopIdError"></div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="modalEntered">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—à–µ–¥—à–∏—Ö <span class="required">*</span></label>
                        <input type="number" id="modalEntered" name="entered" class="form-input" min="0" required>
                        <div class="error-message" id="enteredError"></div>
                    </div>
                    <div class="form-group">
                        <label for="modalExited">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—à–µ–¥—à–∏—Ö <span class="required">*</span></label>
                        <input type="number" id="modalExited" name="exited" class="form-input" min="0" required>
                        <div class="error-message" id="exitedError"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="modalTimestamp">–í—Ä–µ–º—è <span class="required">*</span></label>
                    <input type="datetime-local" id="modalTimestamp" name="timestamp" class="form-input" required>
                    <div class="error-message" id="timestampError"></div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline" id="modalCancel">–û—Ç–º–µ–Ω–∞</button>
            <button type="submit" form="recordForm" class="btn btn-primary" id="modalSave">
                <span class="btn-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                <span class="btn-spinner" style="display: none;"></span>
            </button>
        </div>
    </div>
</div>

<!-- Toast Notifications -->
<div class="toast-container" id="toastContainer">
    <!-- Toasts will be dynamically added here -->
</div>

<!-- Confirmation Dialog -->
<div class="modal-overlay" id="confirmationOverlay" style="display: none;">
    <div class="modal confirmation-modal">
        <div class="modal-header">
            <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h2>
        </div>
        <div class="modal-body">
            <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline" id="confirmCancel">–û—Ç–º–µ–Ω–∞</button>
            <button type="button" class="btn btn-danger" id="confirmDelete">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>